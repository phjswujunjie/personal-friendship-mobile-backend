webpackJsonp([3],{QbnH:function(t,e){},UcAa:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o={name:"Homepage",data:function(){return{flag:1,info:null,avatar:"",relation:null,headers:{headers:{token:window.localStorage.getItem("token")}}}},methods:{tipLogin:function(){this.$message({duration:"1000",message:"请先进行登录",type:"error"})},displayInfo:function(){this.flag*=-1,-1===this.flag?(document.getElementById("background").style.height="473px",document.getElementById("smallNav").style.marginTop="70px",document.getElementById("icon").className="el-icon-arrow-up",document.getElementById("displayInfoDiv").style.display="block"):(document.getElementById("background").style.height="423px",document.getElementById("smallNav").style.marginTop="0",document.getElementById("icon").className="el-icon-arrow-down",document.getElementById("displayInfoDiv").style.display="none")},addFollow:function(t){var e=this;this.$http.post("http://43.139.180.101:8080/friends/"+t.target.getAttribute("flag"),{},this.headers).then(function(i){console.log(t.target.innerText.length),23001===i.data.code&&(4===t.target.innerText.length?e.relation=50003:e.relation=50002)})},deleteFollow:function(t){var e=this;this.$http.delete("http://43.139.180.101:8080/friends/"+t.target.id,this.headers).then(function(i){21001===i.data.code&&(5===t.target.innerText.length?e.relation=50001:e.relation=5e4)})},toSelected:function(){this.$router.push({path:"/u/"+this.$route.params.id+"/selected"})},toBlog:function(){this.$router.push({path:"/u/"+this.$route.params.id+"/blog"})},toAlbum:function(){this.$router.push({path:"/u/"+this.$route.params.id+"/album"})}},created:function(){var t=this;this.$store.commit("saveId",this.$route.params.id),this.$http.get("http://43.139.180.101:8080/users/"+this.$route.params.id,this.headers).then(function(e){2e4===e.data.code&&(location.href="http://43.139.180.101:8080/homepage"),t.info=e.data.data,console.log(e.data.data),t.avatar="http://43.139.180.101:8080/static/upload/"+t.info.avatar,t.$store.commit("changeIsSelf",t.info.isSelf),t.info.isSelf||t.$http.get("http://43.139.180.101:8080/friends/"+t.$route.params.id,t.headers).then(function(e){console.log(e.data),t.relation=e.data.code,console.log(t.relation)})})}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"main",staticStyle:{"margin-left":"10px"}},[i("div",{attrs:{id:"background"}},[t._m(0),t._v(" "),i("img",{staticClass:"img-circle",attrs:{src:t.avatar,width:"100px",id:"photo"}}),t._v(" "),t.info?i("span",{staticStyle:{position:"absolute",left:"175px","font-weight":"bolder",top:"265px"}},[t._v(t._s(t.info.nickname))]):t._e(),t._v(" "),t.info&&"女"===t.info.gender?i("span",{staticStyle:{position:"absolute",left:"150px","font-weight":"bolder",top:"265px",width:"20px",height:"20px","text-align":"center","background-color":"deeppink","border-radius":"10px",color:"white"}},[i("i",{staticClass:"el-icon-female"})]):i("span",{staticStyle:{position:"absolute",left:"150px","font-weight":"bolder",top:"265px",width:"20px",height:"20px","text-align":"center","background-color":"deepskyblue","border-radius":"10px",color:"white"}},[i("i",{staticClass:"el-icon-male"})]),t._v(" "),t.info?i("span",{staticStyle:{position:"absolute",left:"150px",top:"310px",color:"gray"}},[t._v("账号 "),i("span",{staticStyle:{color:"black"}},[t._v(t._s(t.info.account))])]):t._e(),t._v(" "),t.info?i("span",{staticStyle:{position:"absolute",left:"150px",top:"290px",color:"gray"}},[t._v("粉丝 "),i("span",{staticStyle:{color:"black"}},[t._v(t._s(t.info.fansNumber))])]):t._e(),t._v(" "),t.info?i("span",{staticStyle:{position:"absolute",left:"210px",top:"290px",color:"gray"}},[t._v("关注 "),i("span",{staticStyle:{color:"black"}},[t._v(t._s(t.info.followNumber))])]):t._e(),t._v(" "),t.info&&!t.info.isSelf&&3e4===t.relation?i("button",{staticClass:"followButton",attrs:{title:"关注"},on:{click:t.tipLogin}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"bolder"}}),t._v(" 关注\n    ")]):t._e(),t._v(" "),t.info&&!t.info.isSelf&&5e4===t.relation?i("button",{staticClass:"followButton",attrs:{title:"关注",flag:t.info.id},on:{click:t.addFollow}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"bolder"},attrs:{flag:t.info.id}}),t._v(" 关注\n    ")]):t._e(),t._v(" "),t.info&&!t.info.isSelf&&50001===t.relation?i("button",{staticClass:"followButton",attrs:{title:"回关",flag:t.info.id},on:{click:t.addFollow}},[i("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"bolder"},attrs:{flag:t.info.id}}),t._v(" 回关 \n    ")]):t._e(),t._v(" "),t.info&&50002===t.relation?i("button",{staticClass:"attention",attrs:{id:t.info.id},on:{click:t.deleteFollow}},[t._v("\n       已关注\n    ")]):t._e(),t._v(" "),t.info&&50003===t.relation?i("button",{staticClass:"attention",attrs:{id:t.info.id},on:{click:t.deleteFollow}},[t._v("\n       互相关注\n    ")]):t._e(),t._v(" "),t.info?i("span",{staticStyle:{position:"absolute",left:"50px",top:"340px",color:"gray","font-size":"8px"}},[i("i",{staticClass:"el-icon-document"}),t._v("  "+t._s(""===t.info.introduction?"暂无简介":t.info.introduction))]):t._e(),t._v(" "),i("span",{staticStyle:{position:"absolute",left:"550px",top:"335px",color:"gray","font-size":"14px"}},[i("i",{staticClass:"el-icon-arrow-down",staticStyle:{"background-color":"lightgray",cursor:"pointer",color:"white","border-radius":"7px"},attrs:{id:"icon"},on:{click:t.displayInfo}})]),t._v(" "),t.info?i("div",{staticStyle:{display:"none"},attrs:{id:"displayInfoDiv"}},[t._m(1),t._v(" "),i("span",{staticStyle:{position:"absolute",left:"180px",top:"370px",color:"gray","font-size":"8px"}},[i("i",{staticClass:"el-icon-location-information"}),t._v("  "+t._s(t.info.address))]),t._v(" "),i("span",{staticStyle:{position:"absolute",left:"50px",top:"400px",color:"gray","font-size":"8px"}},[i("i",{staticClass:"el-icon-date"}),t._v("  "+t._s(t.info.register_time)+"加入博客网站")])]):t._e(),t._v(" "),i("div",{attrs:{id:"smallNav"}},[i("hr",{staticStyle:{margin:"12px auto"}}),t._v(" "),i("span",{staticStyle:{"margin-left":"100px","font-size":"16px"}},[i("a",{staticClass:"linkClass",on:{click:t.toSelected}},[t._v("精选")])]),t._v(" "),i("span",{staticStyle:{"margin-left":"150px","font-size":"16px"}},[i("a",{staticClass:"linkClass",on:{click:t.toBlog}},[t._v("博客")])]),t._v(" "),i("span",{staticStyle:{"margin-left":"150px","font-size":"16px"}},[i("a",{staticClass:"linkClass",on:{click:t.toAlbum}},[t._v("相册")])])])]),t._v(" "),i("router-view")],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{overflow:"hidden",height:"256px"}},[e("a",{attrs:{href:"../../../static/image/img_1.png",target:"_blank"}},[e("img",{staticStyle:{"border-radius":"10px"},attrs:{src:i("mbVl"),alt:"",width:"642px",height:"350px"}})]),this._v(" "),e("a",{staticStyle:{cursor:"pointer","text-decoration":"none"},attrs:{href:"http://43.139.180.101:8080/homepage"}},[e("i",{staticClass:"el-icon-arrow-left",staticStyle:{color:"white","font-size":"50px",position:"relative",bottom:"330px",left:"10px"}}),this._v(" "),e("span",{staticStyle:{color:"white","font-size":"30px",position:"relative",bottom:"340px"}},[this._v("返回")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticStyle:{position:"absolute",left:"50px",top:"370px",color:"gray","font-size":"8px"}},[e("i",{staticClass:"el-icon-date"}),this._v("  2003-07-14")])}]};var n=i("VU/8")(o,a,!1,function(t){i("QbnH")},"data-v-2c9c4637",null);e.default=n.exports},mbVl:function(t,e,i){t.exports=i.p+"static/img/img_1.89a1df3.png"}});
//# sourceMappingURL=3.63fc27a1e09465f8ef2d.js.map