webpackJsonp([17],{AbtK:function(t,a){},"jb5+":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i={name:"Fans",data:function(){return{fansList:[],fansNumber:null,initialNumber:null,headers:{headers:{token:window.localStorage.getItem("token")}}}},created:function(){var t=this;this.$http.get("http://43.139.180.101:8080/friends/fans",this.headers).then(function(a){t.fansList=a.data.data,t.fansNumber=a.data.data[0].length+a.data.data[1].length,t.initialNumber=a.data.data[0].length+a.data.data[1].length,console.log(a.data)}),this.$store.commit("changeIsSelf",!0),this.$store.commit("saveId",this.$route.params.id)},methods:{addFollow:function(t){var a=this;t.stopPropagation(),this.$http.post("http://43.139.180.101:8080/friends/"+t.target.getAttribute("flag"),{},this.headers).then(function(e){23001===e.data.code&&(a.followNumber++,t.target.nextElementSibling.style.display="block",t.target.style.display="none")})},deleteFollow:function(t){var a=this;t.stopPropagation(),this.$http.delete("http://43.139.180.101:8080/friends/"+t.target.id,this.headers).then(function(e){21001===e.data.code&&(a.followNumber--,t.target.previousElementSibling.style.display="block",t.target.style.display="none")})},toHomepage:function(t){location.href=t.target.getAttribute("flag")}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"main",staticStyle:{"margin-left":"10px"}},[e("div",{attrs:{id:"background"}},[e("h4",{staticStyle:{"margin-left":"20px"}},[t._v("全部粉丝("+t._s(t.fansNumber)+")")]),t._v(" "),e("hr",{staticStyle:{margin:"10px"}}),t._v(" "),t._l(t.fansList[1],function(a){return e("div",{staticClass:"followList",staticStyle:{cursor:"pointer",width:"100%",height:"92px",position:"relative"},attrs:{flag:a.homepageLocation},on:{click:t.toHomepage}},[e("img",{staticClass:"img-circle",staticStyle:{position:"absolute",top:"21px",left:"20px"},attrs:{flag:a.homepageLocation,src:a.avatar,width:"50px",height:"50px"}}),t._v(" "),e("span",{staticStyle:{position:"absolute",left:"80px",top:"22px","font-weight":"bolder"},attrs:{flag:a.homepageLocation}},[t._v(t._s(a.nickname))]),t._v(" "),e("span",{staticStyle:{position:"absolute",left:"80px",top:"40px","font-size":"12px",color:"#939393"},attrs:{flag:a.homepageLocation}},[t._v(t._s(""===a.introduction?"暂无简介":a.introduction))]),t._v(" "),e("button",{staticClass:"followButton",staticStyle:{display:"none"},attrs:{title:"关注",flag:a.id},on:{click:t.addFollow}},[e("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"bolder"},attrs:{flag:a.id}}),t._v(" 回关\n      ")]),t._v(" "),e("button",{staticClass:"attention",attrs:{id:a.id},on:{click:t.deleteFollow}},[t._v("\n         互相关注\n      ")])])}),t._v(" "),t._l(t.fansList[0],function(a){return e("div",{staticClass:"followList",staticStyle:{cursor:"pointer",width:"100%",height:"92px",position:"relative"},attrs:{flag:a.homepageLocation},on:{click:t.toHomepage}},[e("img",{staticClass:"img-circle",staticStyle:{position:"absolute",top:"21px",left:"20px"},attrs:{flag:a.homepageLocation,src:a.avatar,width:"50px",height:"50px"}}),t._v(" "),e("span",{staticStyle:{position:"absolute",left:"80px",top:"22px","font-weight":"bolder"},attrs:{flag:a.homepageLocation}},[t._v(t._s(a.nickname))]),t._v(" "),e("span",{staticStyle:{position:"absolute",left:"80px",top:"40px","font-size":"12px",color:"#939393"},attrs:{flag:a.homepageLocation}},[t._v(t._s(""===a.introduction?"暂无简介":a.introduction))]),t._v(" "),e("button",{staticClass:"followButton",attrs:{title:"关注",flag:a.id},on:{click:t.addFollow}},[e("i",{staticClass:"el-icon-plus",staticStyle:{"font-weight":"bolder"},attrs:{flag:a.id}}),t._v(" 回关\n      ")]),t._v(" "),e("button",{staticClass:"attention",staticStyle:{display:"none"},attrs:{id:a.id},on:{click:t.deleteFollow}},[t._v("\n         互相关注\n      ")])])}),t._v(" "),0===t.initialNumber?e("div",{staticStyle:{"background-color":"white",width:"642px",height:"300px","border-radius":"5px"}},[t._m(0)]):t._e()],2)])},staticRenderFns:[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{position:"relative",left:"290px",top:"140px"}},[a("i",{staticClass:"el-icon-warning",staticStyle:{"font-size":"50px",color:"#507daf"}}),this._v(" "),a("p",{staticStyle:{position:"relative",right:"20px","font-weight":"bolder"}},[this._v("还没有任何粉丝")])])}]};var s=e("VU/8")(i,o,!1,function(t){e("AbtK")},"data-v-30214a0d",null);a.default=s.exports}});
//# sourceMappingURL=17.b398ec9aed43043ba71b.js.map